<article class="content">
  <h1>Hyper-V IIS Webserver Lab</h1>

  <section>
    <h2>üéØ Doelstelling</h2>
    <p>
      Dit lab leert je hoe je een IIS (Internet Information Services) webserver installeert, configureert en test binnen een Hyper-V VM. 
      Je leert zowel Server Manager als PowerShell te gebruiken, inclusief beveiliging, bindings, firewall-instellingen en website deployment.
    </p>
  </section>

  <section class="infra-flex">
    <h3>üß© Benodigde infrastructuur</h3>

    <div class="infra-flex-row header">
      <div>Component</div>
      <div>Minimumvereisten</div>
      <div>Aanbevolen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">Hyper-V VM</div>
      <div data-label="Minimumvereisten">Windows Server 2019/2022, 2 vCPU, 4 GB RAM, 40 GB VHDX</div>
      <div data-label="Aanbevolen">4 vCPU, 8 GB RAM, 60 GB VHDX</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">Netwerk</div>
      <div data-label="Minimumvereisten">Internal of External switch</div>
      <div data-label="Aanbevolen">Internal + External switch voor test en internet toegang</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">PowerShell</div>
      <div data-label="Minimumvereisten">Windows PowerShell 5.1+</div>
      <div data-label="Aanbevolen">PowerShell 7 of hoger</div>
    </div>
  </section>

  <section>
    <h2>üèóÔ∏è Installatie en Configuratie</h2>

    <h3>Stap 1 ‚Äì IIS installeren</h3>
    <ol>
      <li>Open <strong>Server Manager ‚Üí Add Roles and Features</strong>.</li>
      <li>Selecteer <strong>Web Server (IIS)</strong> en klik op volgende.</li>
      <li>Kies gewenste features:
        <ul>
          <li>HTTP Features: Static Content, Default Document, HTTP Redirect</li>
          <li>Performance: Dynamic Content Compression</li>
          <li>Security: Request Filtering, Windows Authentication indien nodig</li>
        </ul>
      </li>
      <li>Installeer de rol en wacht tot voltooiing.</li>
      <li>PowerShell alternatief:
        <pre><code class="language-powershell">
Install-WindowsFeature Web-Server -IncludeManagementTools
        </code></pre>
      </li>
    </ol>

    <h3>Stap 2 ‚Äì Website aanmaken</h3>
    <ol>
      <li>Open <strong>IIS Manager</strong>.</li>
      <li>Rechtsklik op <strong>Sites ‚Üí Add Website</strong>.</li>
      <li>Configureer:
        <ul>
          <li>Site name: bijv. LabWeb</li>
          <li>Physical path: bv. <code>C:\inetpub\wwwroot\LabWeb</code></li>
          <li>Bindings: IP-adres, poort (80 voor HTTP, 443 voor HTTPS)</li>
        </ul>
      </li>
      <li>PowerShell alternatief:
        <pre><code class="language-powershell">
New-Website -Name "LabWeb" -Port 80 -PhysicalPath "C:\inetpub\wwwroot\LabWeb"
        </code></pre>
      </li>
    </ol>

    <h3>Stap 3 ‚Äì Firewall configureren</h3>
    <ul>
      <li>Open poorten 80 en 443 indien firewall actief is:
        <pre><code class="language-powershell">
New-NetFirewallRule -DisplayName "HTTP-In" -Direction Inbound -Protocol TCP -LocalPort 80 -Action Allow
New-NetFirewallRule -DisplayName "HTTPS-In" -Direction Inbound -Protocol TCP -LocalPort 443 -Action Allow
        </code></pre>
      </li>
    </ul>

    <h3>Stap 4 ‚Äì Testen van de website</h3>
    <ul>
      <li>Open een browser op de VM of client: <code>http://[IP of hostname]</code></li>
      <li>Controleer dat de standaardpagina of jouw testpagina wordt geladen.</li>
      <li>Gebruik PowerShell om de service te controleren:
        <pre><code class="language-powershell">
Get-Service W3SVC
Test-NetConnection -ComputerName [IP of hostname] -Port 80
        </code></pre>
      </li>
    </ul>

    <h3>Stap 5 ‚Äì HTTPS configuratie (optioneel)</h3>
    <ol>
      <li>Maak of importeer een SSL-certificaat via IIS Manager ‚Üí Server Certificates.</li>
      <li>Wijzig de binding van de website naar poort 443 en wijs het certificaat toe.</li>
      <li>Test HTTPS toegang via browser: <code>https://[IP of hostname]</code></li>
    </ol>

    <h3>Stap 6 ‚Äì Best practices</h3>
    <ul>
      <li>Plaats websitecontent buiten <code>C:\Windows\System32</code>.</li>
      <li>Gebruik Windows Authentication of andere beveiliging indien nodig.</li>
      <li>Monitor IIS logs: <code>C:\inetpub\logs\LogFiles</code></li>
      <li>Maak regelmatig back-ups van websiteconfiguraties en content.</li>
      <li>Gebruik Application Pools om isolatie van websites te waarborgen.</li>
    </ul>
  </section>

  <section class="infra-flex">
    <h3>üìä Troubleshooting</h3>

    <div class="infra-flex-row header">
      <div>Probleem</div>
      <div>Oplossing</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">Website laadt niet</div>
      <div data-label="Oplossing">Controleer dat W3SVC draait, bindings correct zijn, en firewall openstaat</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">Poort 80/443 bereikbaar maar geen content</div>
      <div data-label="Oplossing">Controleer physical path en permissies van de map</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">HTTPS verbinding mislukt</div>
      <div data-label="Oplossing">Controleer SSL certificaat, binding en certificaatvertrouwensinstellingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">Toegang geweigerd voor gebruikers</div>
      <div data-label="Oplossing">Controleer NTFS- en IIS Authentication instellingen</div>
    </div>
  </section>

  <section>
    <h2>üßæ Conclusie</h2>
    <p>
      Na dit lab kun je een IIS webserver volledig installeren, configureren, testen en beveiligen in een Hyper-V VM. 
      Je kunt HTTP/HTTPS websites hosten, firewall regelen, PowerShell gebruiken voor beheer, en problemen oplossen.
    </p>
  </section>
</article>
