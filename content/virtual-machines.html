<article class="content">
  <h1>Hyper-V Virtuele Machines Aanmaken en Configureren Lab (Inclusief Server-VMâ€™s)</h1>

  <section>
    <h2>ğŸ¯ Doelstelling</h2>
    <p>
      Deze handleiding leert je virtuele machines (VMâ€™s) aan te maken en te configureren in Hyper-V, 
      inclusief het opzetten van server-VMâ€™s zoals domeincontrollers, bestandsservers of webservers. 
      Je leert RAM, CPU, netwerk, opslag en serverrollen correct instellen.
    </p>
  </section>

  <section class="infra-flex">
    <h3>ğŸ§© Benodigde infrastructuur</h3>

    <div class="infra-flex-row header">
      <div>Component</div>
      <div>Minimumvereisten</div>
      <div>Aanbevolen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">Host OS</div>
      <div data-label="Minimumvereisten">Windows 10/11 Pro of Enterprise</div>
      <div data-label="Aanbevolen">Windows 10/11 Enterprise met laatste updates</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">Hyper-V</div>
      <div data-label="Minimumvereisten">Ingeschakeld via Windows Features</div>
      <div data-label="Aanbevolen">Laatste updates geÃ¯nstalleerd</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">Opslag</div>
      <div data-label="Minimumvereisten">Minimaal 256 GB SSD</div>
      <div data-label="Aanbevolen">512 GB NVMe SSD of meer</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">RAM</div>
      <div data-label="Minimumvereisten">8 GB</div>
      <div data-label="Aanbevolen">16 GB of meer (voor meerdere server-VMâ€™s)</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Component">Virtuele switches</div>
      <div data-label="Minimumvereisten">Minimaal Ã©Ã©n</div>
      <div data-label="Aanbevolen">Meerdere voor gesegmenteerde netwerken</div>
    </div>
  </section>

  <section>
    <h2>ğŸ—ï¸ Stappenplan VM aanmaken</h2>

    <h3>Stap 1 â€“ Hyper-V Manager openen</h3>
    <ol>
      <li>Open <strong>Start â†’ Hyper-V Manager</strong> en selecteer de host.</li>
    </ol>

    <h3>Stap 2 â€“ Nieuwe VM aanmaken</h3>
    <ol>
      <li>Klik rechts op de host â†’ <strong>Nieuw â†’ Virtuele machine</strong>.</li>
      <li>Volg de wizard: naam, locatie, generatie (1 of 2), RAM, netwerkadapter en harde schijf.</li>
      <li>PowerShell alternatief:
        <pre><code class="language-powershell">
New-VM -Name "ServerVM01" -MemoryStartupBytes 4GB -Generation 2 -NewVHDPath "C:\HyperV\ServerVM01.vhdx" -NewVHDSizeBytes 60GB -SwitchName "LabSwitch_Internal"
        </code></pre>
      </li>
    </ol>

    <h3>Stap 3 â€“ OS installeren</h3>
    <ol>
      <li>Start de VM â†’ <strong>Connect</strong>.</li>
      <li>Installeer het serverbesturingssysteem:
        <ul>
          <li>Hostname instellen (bijv. DC01, FILE01)</li>
          <li>IP-configuratie: vaak statisch voor servers</li>
          <li>Installeer serverrollen indien nodig (AD, DNS, DHCP, IIS, etc.)</li>
        </ul>
      </li>
    </ol>

    <h3>Stap 4 â€“ VM-instellingen aanpassen</h3>
    <ul>
      <li>CPU en RAM verhogen voor serverrollen:
        <ul>
          <li>Domeincontroller: minimaal 2 vCPU, 4â€“8 GB RAM</li>
          <li>Bestandsserver: afhankelijk van opslag en gebruikers</li>
          <li>Webserver: afhankelijk van verwachte belasting</li>
        </ul>
      </li>
      <li>Dynamisch geheugen inschakelen indien gewenst.</li>
      <li>Extra netwerkadapters toevoegen voor gescheiden VLANâ€™s of beheer/extern verkeer.</li>
      <li>Snapshots maken vÃ³Ã³r belangrijke wijzigingen of updates.</li>
    </ul>

    <h3>Stap 5 â€“ Serverrollen configureren</h3>
    <ul>
      <li><strong>Domeincontroller:</strong> AD DS installeren, promotie naar DC, DNS configureren</li>
      <li><strong>Bestandsserver:</strong> File Server rol installeren, shares aanmaken, permissies instellen</li>
      <li><strong>Webserver:</strong> IIS of Apache installeren, firewallpoorten openzetten, testpagina aanmaken</li>
      <li>Controleer dat server-VMâ€™s juiste IP en netwerkconnectiviteit hebben</li>
    </ul>

    <h3>Stap 6 â€“ Netwerk testen</h3>
    <ul>
      <li>Ping andere VMâ€™s en de host</li>
      <li>Controleer DNS-resolutie bij domeincontrollers</li>
      <li>Controleer toegang tot gedeelde mappen of webservices</li>
      <li>PowerShell test:
        <pre><code class="language-powershell">
Test-Connection -ComputerName "DC01"
Test-Connection -ComputerName "FILE01"
        </code></pre>
      </li>
    </ul>

    <h3>Stap 7 â€“ Geavanceerde opties</h3>
    <ul>
      <li>VLAN tagging instellen voor gescheiden netwerksegmenten</li>
      <li>NIC Teaming voor redundantie</li>
      <li>Backups of checkpoints automatiseren</li>
      <li>Serverrollen clusteren indien nodig</li>
    </ul>
  </section>

  <section>
    <h2>ğŸ” Veiligheid en isolatie</h2>
    <ul>
      <li>Gebruik Private/Internal switches voor testservers om productie niet te beÃ¯nvloeden</li>
      <li>Stel firewallregels in voor testdoeleinden</li>
      <li>Beperk RDP/SSH toegang tot beheerders</li>
      <li>Regelmatig snapshots maken voor herstelpunten</li>
    </ul>
  </section>

  <section class="infra-flex">
    <h3>ğŸ“Š Probleemoplossing</h3>

    <div class="infra-flex-row header">
      <div>Probleem</div>
      <div>Oplossing</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">VM start niet</div>
      <div data-label="Oplossing">Controleer Hyper-V status, BIOS/UEFI virtualisatie, RAM en CPU instellingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">Server-VM krijgt geen IP</div>
      <div data-label="Oplossing">Controleer switch koppeling, DHCP of statisch IP, VLAN instellingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">Domeincontroller werkt niet correct</div>
      <div data-label="Oplossing">Controleer AD-installatie, DNS-configuratie en netwerkconnectiviteit</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Probleem">Bestandsserver shares niet bereikbaar</div>
      <div data-label="Oplossing">Controleer permissies, firewall en netwerkconnectiviteit</div>
    </div>
  </section>

  <section>
    <h2>ğŸ§¾ Conclusie</h2>
    <p>
      Na dit lab kun je Hyper-V VMâ€™s aanmaken voor zowel werkstations als serverrollen, 
      netwerk, opslag en CPU correct configureren en testen. Je kunt veilige testomgevingen met meerdere server-VMâ€™s opzetten.
    </p>
  </section>
</article>
