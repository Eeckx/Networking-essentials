<section>
  <h1>ğŸŒ Routing and Remote Access Service (RRAS) â€“ Installatie, Configuratie en VPN</h1>

  <section>
    <h2>ğŸ¯ Doelstelling</h2>
    <p>
      Leer hoe je <strong>RRAS</strong> installeert en configureert als router, NAT-server of VPN-toegangspunt.
      Zowel LAN-routing als VPN-functionaliteit komen aan bod voor veilige externe toegang.
    </p>
  </section>

  <section>
    <h2>ğŸ§° Voorwaarden</h2>
    <ul>
      <li>Windows Server 2019/2022 of nieuwer</li>
      <li>Minstens 2 netwerkinterfaces (1 intern, 1 extern)</li>
      <li>Statisch IP-adres</li>
      <li>Administratorrechten</li>
      <li>Optioneel: AD-integratie voor VPN-authenticatie</li>
    </ul>
  </section>

  <section class="infra-flex">
    <h2>âš™ï¸ Installatie van RRAS</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Server Manager â†’ Add Roles and Features â†’ Role-based installation â†’ Remote Access.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Vink Role Services aan: <strong>DirectAccess and VPN (RAS)</strong> + <strong>Routing</strong>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Klik <strong>Install</strong>. PowerShell alternatief:
        <pre><code class="language-powershell">
Install-WindowsFeature -Name RemoteAccess,Routing -IncludeManagementTools
        </code></pre>
      </div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸš€ Configuratie van RRAS</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Server Manager â†’ Tools â†’ Routing and Remote Access â†’ Rechtsklik server â†’ Configure and Enable Routing and Remote Access.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Kies scenario: <strong>NAT</strong>, <strong>VPN access</strong> of <strong>Custom Configuration</strong>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Bij Custom Configuration: selecteer <strong>VPN access</strong> + <strong>LAN routing</strong> â†’ Finish â†’ Start service.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸŒ NAT-configuratie</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">RRAS-console â†’ IPv4 â†’ NAT â†’ New Interface voor externe interface â†’ Public interface connected to the Internet â†’ Enable NAT.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Herhaal voor interne interface â†’ Private interface connected to private network.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">PowerShell alternatief:
        <pre><code class="language-powershell">
New-NetNat -Name "LabNAT" -InternalIPInterfaceAddressPrefix "192.168.10.0/24"
        </code></pre>
      </div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ” VPN-configuratie</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">RRAS-console â†’ Properties â†’ Security â†’ Authentication provider (Windows Authentication of RADIUS).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">IPv4-tab â†’ Static address pool (192.168.50.10â€“100) of DHCP.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Ports â†’ Properties â†’ controleer PPTP/L2TP poorten. Firewallpoorten: PPTP 1723, L2TP/IPsec 500/1701/4500, SSTP 443.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ‘¤ VPN-gebruikers configureren</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">AD Users and Computers â†’ gebruiker â†’ tab Dial-in â†’ Allow access of Control access through NPS.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Client configuratie: Settings â†’ Network & Internet â†’ VPN â†’ Add VPN connection â†’ servernaam + protocol.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ§© LAN-routing (interne netwerken verbinden)</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">RRAS-console â†’ IPv4 â†’ Static Routes â†’ Voeg route toe:
        <pre><code>
Destination: 192.168.20.0
Subnet mask: 255.255.255.0
Gateway: 192.168.10.1
        </code></pre>
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">PowerShell alternatief:
        <pre><code class="language-powershell">
New-NetRoute -DestinationPrefix "192.168.20.0/24" -InterfaceAlias "LAN" -NextHop 192.168.10.1
        </code></pre>
      </div>
    </div>
  </section>

  <section>
    <h2>ğŸ“œ Logging en monitoring</h2>
    <ul>
      <li>Bekijk actieve verbindingen onder Remote Access Clients.</li>
      <li>Controleer logs: <code>%SystemRoot%\System32\LogFiles\</code>, Event Viewer â†’ Custom Views â†’ Server Roles â†’ RRAS.</li>
      <li>PowerShell: <code>Get-RemoteAccessConnectionStatistics</code>.</li>
    </ul>
  </section>

  <section>
    <h2>ğŸ§  Best Practices</h2>
    <ul>
      <li>Sterke authenticatie (MS-CHAPv2, EAP-TLS).</li>
      <li>SSTP of IKEv2 voor maximale beveiliging.</li>
      <li>Segmenteer VPN-verkeer op apart subnet.</li>
      <li>Gebruik NPS voor centrale toegangscontrole.</li>
      <li>Logging en monitor actieve verbindingen.</li>
      <li>Overweeg redundantie met meerdere RRAS-servers.</li>
    </ul>
  </section>

  <section>
    <h2>ğŸ§¾ Conclusie</h2>
    <p>
      Met RRAS kan een Windows Server dienen als router of VPN-server. Door LAN-routing, NAT en VPN te combineren, creÃ«er je veilige en flexibele netwerkverbindingen.
    </p>
  </section>
</section>
