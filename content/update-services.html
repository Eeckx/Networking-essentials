<section>
  <h1>ğŸ§© Windows Server Update Services (WSUS) â€“ Installatie, Configuratie en Beheer</h1>

  <section>
    <h2>ğŸ¯ Doelstelling</h2>
    <p>
      In dit lab leer je hoe je <strong>Windows Server Update Services (WSUS)</strong> installeert en configureert.
      WSUS stelt beheerders in staat om <strong>Microsoft-updates lokaal te beheren, goed te keuren en te distribueren</strong> binnen het netwerk,
      zodat niet elke client afzonderlijk updates hoeft te downloaden van het internet.
    </p>
  </section>

  <section>
    <h2>ğŸ§° Voorwaarden</h2>
    <ul>
      <li>Windows Server 2019, 2022 of nieuwer</li>
      <li>Statische IP-adres en correcte DNS-instelling</li>
      <li>Lid van het domein (optioneel maar aanbevolen)</li>
      <li>Voldoende schijfruimte voor updatebestanden (minstens 30â€“100 GB)</li>
      <li>Internettoegang of verbinding met een upstream WSUS-server</li>
    </ul>
  </section>

  <section class="infra-flex">
    <h2>âš™ï¸ Installatie van WSUS</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Open <strong>Server Manager â†’ Add Roles and Features</strong>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Kies <strong>Role-based or feature-based installation</strong> en selecteer de juiste server.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Vink <strong>Windows Server Update Services</strong> aan.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">4</div>
      <div data-label="Beschrijving">Kies opslaglocatie voor updates (bijv. <code>D:\WSUS\Updates</code>).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">5</div>
      <div data-label="Beschrijving">Selecteer databaseoptie: WID voor kleine/middelgrote omgevingen of SQL Server indien beschikbaar.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">6</div>
      <div data-label="Beschrijving">Klik <strong>Install</strong>. PowerShell alternatief:
        <pre><code class="language-powershell">
Install-WindowsFeature -Name UpdateServices,UpdateServices-WidDB,UpdateServices-Services -IncludeManagementTools
        </code></pre>
      </div>
    </div>
  </section>

  <section>
    <h2>ğŸ”§ Eerste configuratie (Post-installatie)</h2>
    <ol>
      <li>Open Server Manager â†’ Klik op de waarschuwing â€œPost-deployment Configurationâ€.</li>
      <li>Klik op <strong>Launch Post-Installation Tasks</strong> om WSUS te initialiseren.</li>
      <li>Open de <strong>WSUS Management Console</strong> via <code>Tools â†’ Windows Server Update Services</code>.</li>
      <li>De configuratiewizard start automatisch.</li>
    </ol>
  </section>

  <section class="infra-flex">
    <h2>âš™ï¸ Configuratiewizard doorlopen</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Kies synchronisatiebron: <strong>Microsoft Update</strong> of <strong>Upstream WSUS-server</strong>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Selecteer proxyserver indien nodig.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Voer eerste synchronisatie uit om producten en classificaties te laden.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">4</div>
      <div data-label="Beschrijving">Selecteer te beheren producten (bv. Windows 10/11, Windows Server 2022, Office).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">5</div>
      <div data-label="Beschrijving">Selecteer updateclassificaties (Critical, Security, Service Packs, Feature Packs).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">6</div>
      <div data-label="Beschrijving">Configureer synchronisatieplanning (dagelijks aanbevolen) en klik <strong>Finish</strong>.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ“¦ Updategroepen en goedkeuringen</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Maak computerdoelgroepen aan: <strong>Servers</strong>, <strong>Workstations</strong>, <strong>Testgroep</strong>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Rechtsklik op â€œAll Computersâ€ â†’ <strong>Add Computer Group</strong>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Om updates goed te keuren: ga naar <strong>Updates â†’ filter â€œNeeded Updatesâ€</strong>, selecteer updates â†’ <strong>Approve</strong> â†’ kies doelgroep.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">4</div>
      <div data-label="Beschrijving">Automatische goedkeuring instellen via <code>Options â†’ Automatic Approvals</code>, regels per classificatie/product.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ’» Clients koppelen via Group Policy</h2>

    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Open <strong>Group Policy Management (gpmc.msc)</strong>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Maak of bewerk een GPO, bv. â€œWSUS Settingsâ€.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Navigeer naar: <code>Computer Configuration â†’ Policies â†’ Administrative Templates â†’ Windows Components â†’ Windows Update â†’ Specify intranet Microsoft update service location</code>.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">4</div>
      <div data-label="Beschrijving">Zet op <strong>Enabled</strong> en vul in:
        <ul>
          <li>Intranet update service: <code>http://wsusserver.lab.local</code></li>
          <li>Intranet statistics server: <code>http://wsusserver.lab.local</code></li>
        </ul>
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">5</div>
      <div data-label="Beschrijving">Configureer eventueel Automatic Updates (Enabled) en schedule (bv. elke nacht om 3u).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">6</div>
      <div data-label="Beschrijving">Voer op clients uit:
        <pre><code class="language-powershell">
gpupdate /force
wuauclt /detectnow
wuauclt /reportnow
        </code></pre>
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">7</div>
      <div data-label="Beschrijving">Controleer in WSUS-console of clients verschijnen onder â€œComputersâ€.</div>
    </div>
  </section>

  <section>
    <h2>ğŸ” Onderhoud en optimalisatie</h2>
    <ul>
      <li>Voer regelmatig de <strong>Server Cleanup Wizard</strong> uit.</li>
      <li>Verwijder oude updates die niet meer nodig zijn.</li>
      <li>Controleer synchronisatiestatus en database-integriteit.</li>
      <li>Houd schijfruimte voor updatebestanden in de gaten.</li>
      <li>Plan periodieke herindexering van WSUS database bij grote omgevingen.</li>
    </ul>
  </section>
</section>
