<section>
  <h1>ğŸŒ DirectAccess â€“ Transparante en veilige externe verbindingen voor domeinapparaten</h1>

  <section>
    <h2>ğŸ¯ Doelstelling</h2>
    <p>
      Leer hoe je <strong>DirectAccess</strong> installeert en configureert zodat domein-joined clients automatisch en veilig verbinding maken met het interne netwerk.
    </p>
  </section>

  <section class="infra-flex">
    <h2>ğŸ§° Installatie Remote Access rol</h2>
    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Server Manager â†’ Add Roles and Features â†’ Role-based installation â†’ Remote Access â†’ Role Services â†’ DirectAccess and VPN â†’ Install.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">PowerShell alternatief:
        <pre><code class="language-powershell">
Install-WindowsFeature RemoteAccess, DirectAccess-VPN, Routing -IncludeManagementTools
        </code></pre>
      </div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸš€ Configuratie via Remote Access Setup Wizard</h2>
    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Selecteer "Deploy DirectAccess only" (geen VPN).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Configure Remote Clients: kies AD-groepen die DirectAccess mogen gebruiken (bijv. DA-Clients). Wizard maakt automatisch GPOâ€™s aan.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Configure Remote Access Server: selecteer netwerkinterfaces (extern/intern), vul externe FQDN in, kies SSL-certificaat.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">4</div>
      <div data-label="Beschrijving">Infrastructure Servers: interne DNS en managementservers opgeven, optioneel Network Location Server (NLS) activeren.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">5</div>
      <div data-label="Beschrijving">Application Servers (optioneel): specifieke servers beschermen via end-to-end IPsec.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ” Certificaten en IPsec-beveiliging</h2>
    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Gebruik een SSL-certificaat dat overeenkomt met de externe naam van de server (bijv. da.contoso.com).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Zorg dat certificaat Server Authentication bevat en een geldig CRL-pad heeft.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ§­ Clientconfiguratie</h2>
    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Clients ontvangen DirectAccess-instellingen via GPOâ€™s (DirectAccess Client Settings & Server Settings).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Clients moeten lid zijn van opgegeven AD-groep (bijv. DA-Clients).</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Policy-update uitvoeren: <pre><code class="language-powershell">gpupdate /force</code></pre> Status controleren: <pre><code class="language-powershell">Get-DAConnectionStatus</code></pre></div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸŒ Netwerk en firewall</h2>
    <div class="infra-flex-row header">
      <div>Poort / Protocol</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Poort / Protocol">TCP 443</div>
      <div data-label="Beschrijving">IP-HTTPS, hoofdprotocol voor DirectAccess.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Poort / Protocol">UDP 3544</div>
      <div data-label="Beschrijving">Teredo, optioneel fallback voor IPv6.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Poort / Protocol">IPv6</div>
      <div data-label="Beschrijving">Intern verkeer via IPsec-tunnels.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>ğŸ§  Controle en troubleshooting</h2>
    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Client: Get-DAConnectionStatus of netsh interface httpstunnel show interfaces.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Event Viewer: Applications and Services Logs â†’ Microsoft â†’ Windows â†’ RemoteAccess.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">Server: Remote Access Management Console â†’ Operations Status.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">4</div>
      <div data-label="Beschrijving">Ping interne servers via hostname om connectiviteit te testen en NLS bereikbaarheid controleren.</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>âš¡ Beheer en monitoring</h2>
    <div class="infra-flex-row header">
      <div>Stap</div>
      <div>Beschrijving</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">1</div>
      <div data-label="Beschrijving">Gebruik Remote Access Management Console om connecties te monitoren.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">2</div>
      <div data-label="Beschrijving">Integreer met NPS voor authenticatie/accounting.</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">3</div>
      <div data-label="Beschrijving">PowerShell rapportering: <pre><code class="language-powershell">Get-RemoteAccessConnectionStatistics</code></pre></div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Stap">4</div>
      <div data-label="Beschrijving">Certificaatvernieuwing plannen voor IP-HTTPS.</div>
    </div>
  </section>

  <section>
    <h2>ğŸ’¡ Best Practices</h2>
    <ul>
      <li>Gebruik een publiek certificaat voor de externe naam.</li>
      <li>Beperk DirectAccess tot specifieke AD-groepen.</li>
      <li>Zorg dat DNS en NLS betrouwbaar zijn.</li>
      <li>Gebruik dual-NIC voor scheiding LAN/Internet.</li>
      <li>Overweeg migratie naar Always On VPN voor moderne Windows-ondersteuning.</li>
    </ul>
  </section>

  <section>
    <h2>ğŸ§¾ Conclusie</h2>
    <p>
      DirectAccess biedt domein-clients naadloze, continue en beveiligde toegang tot het interne netwerk, zonder handmatige VPN-verbinding, waardoor beheer, updates en policies ook extern automatisch functioneren.
    </p>
  </section>
</section>
