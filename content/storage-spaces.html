<section>
  <h1>üíΩ Storage Spaces ‚Äì Flexibel en redundant storagebeheer in Windows Server</h1>

  <section>
    <h2>üéØ Doelstelling</h2>
    <p>
      Configureer en beheer Storage Spaces voor flexibele en redundante opslag.  
      Combineer fysieke disks tot storage pools en maak virtual disks met mirror of parity voor hoge beschikbaarheid.
    </p>
  </section>

  <section class="infra-flex">
    <h2>üß∞ Voorwaarden</h2>
    <div class="infra-flex-row header">
      <div>Voorwaarde</div>
      <div>Opmerkingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Voorwaarde">Windows Server 2019, 2022 of nieuwer</div>
      <div data-label="Opmerkingen">Alle nodes compatibel</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Voorwaarde">Administrator rechten</div>
      <div data-label="Opmerkingen">Vereist voor configuratie</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Voorwaarde">Minimaal 2 disks</div>
      <div data-label="Opmerkingen">Voor eenvoudige mirror</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Voorwaarde">Extra disks aanbevolen</div>
      <div data-label="Opmerkingen">Voor parity of complexe pools</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Voorwaarde">Storage Spaces Direct (S2D)</div>
      <div data-label="Opmerkingen">Clusteromgeving met minimaal 2 nodes</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>‚öôÔ∏è Installatie Storage Spaces Feature</h2>
    <div class="infra-flex-row header">
      <div>Actie</div>
      <div>PowerShell / Opmerkingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Installeer File & Storage Services + Storage Spaces</div>
      <div data-label="PowerShell / Opmerkingen">
        <code>Install-WindowsFeature FS-FileServer, Storage-Services</code> <br>
        Voor S2D vereist
      </div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>üîç Voorbereiding disks</h2>
    <div class="infra-flex-row header">
      <div>Actie</div>
      <div>PowerShell / Opmerkingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Sluit disks aan en controleer status</div>
      <div data-label="PowerShell / Opmerkingen"><code>Get-PhysicalDisk</code></div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Controleer beschikbaarheid voor pooling</div>
      <div data-label="PowerShell / Opmerkingen">Geen volumes of partities aanwezig</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">S2D nodes configuratie</div>
      <div data-label="PowerShell / Opmerkingen">Identieke disks aanbevolen, SSD/HDD gemengd mogelijk</div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>üèóÔ∏è Storage Pool aanmaken</h2>
    <div class="infra-flex-row header">
      <div>Actie</div>
      <div>PowerShell / Opmerkingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Wizard via Server Manager</div>
      <div data-label="PowerShell / Opmerkingen">
        File and Storage Services ‚Üí Storage Pools ‚Üí Tasks ‚Üí New Storage Pool ‚Üí Selecteer disks ‚Üí Geef naam
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">PowerShell alternatief</div>
      <div data-label="PowerShell / Opmerkingen">
        <code>New-StoragePool -FriendlyName "Pool01" -StorageSubsystemFriendlyName "Windows Storage*" -PhysicalDisks (Get-PhysicalDisk -CanPool $true)</code>
      </div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>üì¶ Virtual Disk (Storage Space) aanmaken</h2>
    <div class="infra-flex-row header">
      <div>Actie</div>
      <div>PowerShell / Opmerkingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Wizard via Server Manager</div>
      <div data-label="PowerShell / Opmerkingen">
        Kies pool, naam, resiliency type (Simple, Mirror, Parity), provisioning type (Fixed/Thin)
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">PowerShell alternatief</div>
      <div data-label="PowerShell / Opmerkingen">
        <code>New-VirtualDisk -StoragePoolFriendlyName "Pool01" -FriendlyName "VD01" -ResiliencySettingName Mirror -Size 500GB</code>
      </div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>üñ¥ Volume aanmaken en formatteren</h2>
    <div class="infra-flex-row header">
      <div>Actie</div>
      <div>PowerShell / Opmerkingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Wizard via Disk Management</div>
      <div data-label="PowerShell / Opmerkingen">
        Nieuwe volume ‚Üí Selecteer virtual disk ‚Üí Drive letter / mount point ‚Üí Bestandssysteem (NTFS/ReFS)
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">PowerShell alternatief</div>
      <div data-label="PowerShell / Opmerkingen">
        <code>Get-VirtualDisk -FriendlyName "VD01" | Initialize-Disk -PartitionStyle GPT</code><br>
        <code>New-Volume -VirtualDisk (Get-VirtualDisk -FriendlyName "VD01") -FileSystem ReFS -FriendlyName "Data01" -DriveLetter D</code>
      </div>
    </div>
  </section>

  <section class="infra-flex">
    <h2>‚ö° Monitoring en beheer</h2>
    <div class="infra-flex-row header">
      <div>Actie</div>
      <div>PowerShell / Opmerkingen</div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Controleer status</div>
      <div data-label="PowerShell / Opmerkingen">
        <code>Get-StoragePool</code>, <code>Get-VirtualDisk</code>, <code>Get-PhysicalDisk | Select FriendlyName, OperationalStatus</code>
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Fouten herstellen</div>
      <div data-label="PowerShell / Opmerkingen">
        <code>Repair-VirtualDisk -FriendlyName "VD01"</code>
      </div>
    </div>

    <div class="infra-flex-row">
      <div data-label="Actie">Bekijk health reports en logs</div>
      <div data-label="PowerShell / Opmerkingen">
        Server Manager ‚Üí Storage Pools, Event Viewer ‚Üí Applications and Services Logs ‚Üí Microsoft ‚Üí Windows ‚Üí StorageSpaces-Driver
      </div>
    </div>
  </section>

  <section>
    <h2>üí° Best Practices</h2>
    <ul>
      <li>Gebruik mirror of parity voor productie; simple alleen voor test/lab</li>
      <li>Splits workloads: SSD voor performance, HDD voor archief/data</li>
      <li>Regelmatig health en capacity monitoren</li>
      <li>Gebruik ReFS voor grote volumes en betere data integrity</li>
      <li>Voor S2D: identieke cluster nodes en voldoende netwerkbandbreedte (RDMA aanbevolen)</li>
      <li>Plan periodieke snapshots/backups van kritieke data</li>
    </ul>
  </section>

  <section>
    <h2>üßæ Conclusie</h2>
    <p>
      Storage Spaces biedt flexibele, schaalbare en redundante opslag.  
      Correcte configuratie van pools, virtual disks en volumes optimaliseert zowel performance als beschikbaarheid.
    </p>
  </section>
</section>
